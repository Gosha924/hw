name: Python Tests

on: pull_request

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - uses: actions/setup-python@v4
      with:
        python-version: "3.10"
    
    - name: Install pytest directly
      run: |
        python -m pip install --upgrade pip
        pip install pytest
    
    - name: Create and run basic test
      run: |
        cat > test_minimal.py << 'EOF'
        def test_always_passes():
            assert True
        
        def test_basic_math():
            assert 1 + 1 == 2
        
        def test_list_operations():
            lst = [3, 1, 4, 1, 5]
            assert sorted(lst) == [1, 1, 3, 4, 5]
            assert len(lst) == 5
        EOF
        python -m pytest test_minimal.py -v